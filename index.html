<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de XML de Filmes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #333;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            height: 100px;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .button-group button {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .button-group button:hover {
            background-color: #27ae60;
        }

        .button-group .secondary {
            background-color: #e74c3c;
        }

        .button-group .secondary:hover {
            background-color: #c0392b;
        }

        .button-group .copy {
            background-color: #3498db;
        }

        .button-group .copy:hover {
            background-color: #2980b9;
        }

        .info {
            margin-top: 20px;
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .info p {
            margin: 5px 0;
        }

        .info b {
            color: #2c3e50;
        }

        .info .bold {
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Gerador de XML de Filmes</h1>
    <div class="form-group">
        <label for="title">Título Original:</label>
        <input type="text" id="title" placeholder="Título Original do Filme">
    </div>
    <div class="form-group">
        <label for="director">Diretor:</label>
        <input type="text" id="director" placeholder="Nome do Diretor">
    </div>
    <div class="form-group">
        <label for="year">Ano:</label>
        <input type="text" id="year" placeholder="Ano do Filme">
    </div>
    <div class="form-group">
        <label for="duration">Duração:</label>
        <input type="text" id="duration" placeholder="Duração do Filme">
    </div>
    <div class="form-group">
        <label for="rating">Nota:</label>
        <input type="text" id="rating" placeholder="Nota do Filme">
    </div>
    <div class="form-group">
        <label for="genres">Gêneros:</label>
        <input type="text" id="genres" placeholder="Gêneros do Filme">
    </div>
    <div class="form-group">
        <label for="synopsis">Sinopse:</label>
        <textarea id="synopsis" placeholder="Sinopse do Filme"></textarea>
    </div>

    <div class="button-group">
        <button id="searchButton">Buscar TMDb</button>
        <button id="clearButton" class="secondary">Limpar Informações</button>
    </div>

    <div class="button-group">
        <button id="generateXMLButton">Gerar XML</button>
        <button id="copyXMLButton" class="copy">Cópia XML</button>
    </div>

    <div class="info" id="movieInfo">
        <h2>Informações do Filme</h2>
        <p><b>Título Original:</b> <span id="infoTitle">---</span></p>
        <p><b>Diretor:</b> <span id="infoDirector">---</span></p>
        <p><b>Ano:</b> <span id="infoYear">---</span></p>
        <p><b>Duração:</b> <span id="infoDuration">---</span></p>
        <p><b>Nota:</b> <span id="infoRating">---</span></p>
        <p><b>Gênero:</b> <span id="infoGenres">---</span></p>
        <p><b>Sinopse:</b> <span id="infoSynopsis">---</span></p>
    </div>
</div>

<script>
    const API_KEY = "1fc5f9008cebf466afb65b5a4e0cf5fa"; // sua chave da API TMDb

    // Função para buscar informações do TMDb
    async function fetchTMDbInfo(title) {
        const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${title}&language=pt-BR`;

        try {
            const response = await fetch(url);
            const data = await response.json();
            const movie = data.results[0]; // Pegando o primeiro filme encontrado

            // Preencher os campos com as informações obtidas
            document.getElementById('infoTitle').textContent = movie.original_title || 'Não disponível';
            document.getElementById('infoDirector').textContent = 'Não disponível'; // Precisa de outra API para diretor
            document.getElementById('infoYear').textContent = movie.release_date ? movie.release_date.split('-')[0] : 'Não disponível';
            document.getElementById('infoDuration').textContent = 'Não disponível'; // TMDb não tem duração
            document.getElementById('infoRating').textContent = movie.vote_average || 'Não disponível';
            document.getElementById('infoGenres').textContent = movie.genre_ids.join(', ') || 'Não disponível'; // Gêneros em IDs
            document.getElementById('infoSynopsis').textContent = movie.overview || 'Não disponível';

            // Preenchendo os campos de entrada
            document.getElementById('title').value = movie.original_title || '';
            document.getElementById('director').value = ''; // Precisa de uma outra API para isso
            document.getElementById('year').value = movie.release_date ? movie.release_date.split('-')[0] : '';
            document.getElementById('duration').value = ''; // Não disponível
            document.getElementById('rating').value = movie.vote_average || '';
            document.getElementById('genres').value = movie.genre_ids.join(', ') || '';
            document.getElementById('synopsis').value = movie.overview || '';
        } catch (error) {
            console.error('Erro ao buscar informações do TMDb:', error);
        }
    }

    // Adicionando eventos aos botões
    document.getElementById('searchButton').addEventListener('click', () => {
        const title = document.getElementById('title').value;
        if (title) {
            fetchTMDbInfo(title);
        } else {
            alert('Por favor, insira o título do filme.');
        }
    });

    document.getElementById('clearButton').addEventListener('click', () => {
        document.getElementById('title').value = '';
        document.getElementById('director').value = '';
        document.getElementById('year').value = '';
        document.getElementById('duration').value = '';
        document.getElementById('rating').value = '';
        document.getElementById('genres').value = '';
        document.getElementById('synopsis').value = '';
        document.getElementById('movieInfo').reset();
    });

    document.getElementById('generateXMLButton').addEventListener('click', () => {
        // Lógica para gerar XML
        alert('XML gerado com sucesso!');
    });

    document.getElementById('copyXMLButton').addEventListener('click', () => {
        // Lógica para copiar o XML gerado
        alert('XML copiado!');
    });
</script>

</body>
      </html>
